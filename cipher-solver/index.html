<!doctype html>
<html lang="en">

<head>

  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <meta name="description" content="Cipher solving tool for the cipher challenge">
  <meta name="author" content="Logan Maxwell, Jamie Holloway, Fenwick Thompson">

  <title>CNCM · Cipher Solver</title>
  <link rel="icon" type="image/x-icon" href="../swaglogo.png">

  <!-- Extras -->
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Roboto:wght@300;400;500&display=swap" rel="stylesheet">
  <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.5.1/jquery.min.js"></script>
  <script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.4.1/js/bootstrap.min.js"></script>

  <!-- CSS -->
  <link rel="stylesheet" href="../style.css">

  <!-- Main program file -->
  <script src="main.js"></script>

  <script src="../main.js"></script>
</head>

<body class="">
  
  <!-- Style Dropdown -->
  <div class="dropdown style-dropdown">
    <button class="style-btn" id="styleDropdownToggle">Select Style</button>
    <ul class="style-dropdown-menu dropdown-menu" id="styleDropdownMenu">
      <li class="dropdown-item bi-flag"><a id="biStyle">Bi flag</a>
      </li><li class="dropdown-item pride-flag"><a id="prideStyle">Pride flag</a>
      </li><li class="dropdown-item pan-flag"><a id="panStyle">Pan flag</a>
      </li><li class="dropdown-item trans-flag"><a id="transStyle">Trans flag</a>
      </li><li class="dropdown-item lesbian-flag"><a id="lesbianStyle">Lesbian flag</a>
      </li><li class="text-divider">
      </li><li class="dropdown-item default-style"><a id="defaultStyle">Default Style</a>
      </li><li class="dropdown-item dark-mode"><a id="darkMode">Dark Mode</a>
      </li><li class="dropdown-item ben-style"><a id="benStyle">Ben Style</a>
      </li><li class="dropdown-item bingus-a-style"><a id="bingusStyle">Bingus Style</a>
      </li><li class="dropdown-item">Sound<input type="checkbox" id="sound"></li>
    </ul>
  </div>



  <!-- Header -->
  <header>
    <a href="../"><h1>Crooked Nazgul Code Men Cipher Solver</h1></a>
    <div class="header-subtitle"><a href="https://www.youtube.com/watch?v=oOlkcIHVmIE&list=PLAfFC9KKNN00qj0jluSsVDDJ_HBdlza7f">
      SEMATARY GRAVE MAN FROM THE HAUNTED MOUND REAL NAZGUL SKINCARVER DEER GOD KEEPER OF THE
      TREES TRUE RELIGION FIEND HAUNTED MOUND LORD</a></div>
  </header>

  <!--Content  (Data, Input/Output, Settings) -->
  <div class="cipher-grid content-panel">
    <!-- Data -->
    <div id="data">

      <!-- Panel -->
      <div class="content-panel-item data">
        <div class="panel-heading"><h3>Data</h3></div>
        <div class="panel-body data-body" id="dataPanelBody">
          <!-- Frequency table -->
          <table class="table" id="frequencyTable">
            <tr>
              <th>Letter</th>
              <th>Frequency</th>
              <th>Letter</th>
              <th>Frequency</th>
            </tr>
          </table>

          <!-- Other table -->
          <table class="data-values-table">
            <tr>
              <td class="data-values-header">Text Length:</td>
              <td id="fullLen" class="dataValues">0</td>
            </tr>
            <tr>
              <td class="data-values-header">Text Length (No Grammar):</td>
              <td id="Len">0</td>
            </tr>
            <tr>
              <td class="data-values-header">Most Likely Cipher:</td>
              <td id="likely">Unknown</td>
            </tr>
            <tr>
              <td class="data-values-header">IoC:</td>
              <td id="IoC">0</td>
            </tr>
            <tr>
              <td class="data-values-header">Chi: </td>
              <td id="Chi">0</td>
            </tr>
            <tr>
              <td class="data-values-header">Time taken: </td>
              <td id="Time">0</td>
            </tr>
          </table>
        </div>
      </div>
    </div>

    <!-- Input -->
    <div class="ioTextDiv inputAreaDiv">
      <textarea class="io-text-area content-panel-item" id="textIn" placeholder="Input text here..."></textarea>
    </div>

    <!-- Output -->
    <div class="ioTextDiv outputAreaDiv">
      <textarea class="io-text-area content-panel-item output" id="textOut" placeholder="Output text here..."
        disabled="disabled"></textarea>
    </div>

    <!-- Option Panels -->
    <div class="optionPanels">

      <!-- Settings -->
      <div id="settings">

        <!-- Settings Panel -->
        <div class="content-panel-item option-panel settings-panel">
          <div class="panel-heading"><h3>Options</h3></div>
          <div class="panel-body">
            <div class="subpanel">
              <!-- Cipher Select Dropdown -->
              <div class="dropdown cipher-dropdown">
                <button class="btn-1" id="cipherDropdownToggle">Select Cipher ↓</button>
                <ul class="cipher-dropdown-menu dropdown-menu" id="cipherDropdownMenu">
                  <li class="dropdown-item"><a id="caesar">Caesar</a>
                  </li><li class="dropdown-item"><a id="affine">Affine</a>
                  </li><li class="dropdown-item"><a id="substitutionA">Substitution (automatic)</a>
                  </li><li class="dropdown-item"><a id="substitutionM">Substitution (manual)</a>
                  </li><li class="dropdown-item"><a id="transpositionS">Transposition (simple)</a>
                  </li><li class="dropdown-item"><a id="transpositionC">Transposition (columnar)</a>
                  </li><li class="dropdown-item"><a id="vigenere">Vigenère</a>
                  </li><li class="dropdown-item"><a id="keyword">Keyword</a>
                  </li><li class="dropdown-item"><a id="polybius">Polybius Square</a>
                  </li><li class="text-divider">
                  </li><li class="dropdown-item"><a id="determine">Determine cipher</a></li>
                </ul>
              </div>

              <!-- Other settings -->
              <div class="options">
                <button class="btn-1" id="swapText">↑</button><!-- comments remove weird whitespace
                  --><button class="btn-1" id="clearText">Clear</button><!--
                  --><button class="btn-1" id="reverseText">Reverse</button><!--
                  --><button class="btn-1" id="copyText">Copy to Clipboard</button><!--
                  --><textarea class="input-box" id="encryptInputBox" placeholder="Input key..."></textarea><!--
                  --><button class="btn-1" id="encrypt">Encrypt</button><!--
                  --><button class="btn-1" id="decrypt">Decrypt</button>
              </div>
            </div>
          </div>
        </div>
      </div>

      <div>
        <a class="twitter-timeline" data-tweet-limit="1" data-theme="dark"
          href="https://twitter.com/Cipher_Master?ref_src=twsrc%5Etfw">Tweets by Cipher_Master</a>
        <script async src="https://platform.twitter.com/widgets.js" charset="utf-8"></script>
      </div>

    </div>
  </div>

  <!-- Footer -->
  <footer>
    <div class="nav-item"><a href="https://github.com/Loganmaxwell6/CNCM">Github repo</a></div>
    <div class="nav-item"><a href="https://cipherchallenge.org">Cipher challenge</a></div>
    <div class="nav-item"><a href="https://open.spotify.com/artist/1GLnyPuL45vOsZPs5iANcC">Ciphertools</a></div>
    <div class="nav-item morg"><a href="https://www.youtube.com/channel/UCEngD8C9GIJmDryhI8Rkqtg">morg</a></div>
    <p>&copy; Crooked Nazgul Code Men 2021</p>
  </footer>

  <!-- Input Binding -->
  <script>
    $(document).ready(function () {
      $('.cipher-dropdown').each(function (key, cipher_dropdown) {
        var $cipher_dropdown = $(cipher_dropdown);
        $cipher_dropdown.find('.dropdown-item a').on('click', function () {
          $cipher_dropdown.find('button').text($(this).text()).append('<span class="caret"></span>');
          setCipher(($(this).attr('id')));
          changeKeyInput();
        });
      });
      $('#cipherDropdownToggle').on('click', function () { openCipherDropdown(); });
      $(window).on('click', function (event) {
        if (!event.target.matches('#cipherDropdownToggle')) {
          closeCipherDropdown();
        }
      });

      $('.style-dropdown').each(function (key, style_dropdown) {
        var $style_dropdown = $(style_dropdown);
        $style_dropdown.find('.style-dropdown-menu a').on('click', function () {
          setStyle(($(this).attr('id')));
        });
      });
      $('#styleDropdownToggle').on('click', function () { openStyleDropdown(); });
      $(window).on('click', function (event) {
        if (!event.target.matches('#styleDropdownToggle')) {
          closeStyleDropdown();
        }
      });

      $('#textIn').on('input', function () { updateText(); });
      $('#swapText').on('click', function () { swapText(); });
      $('#clearText').on('click', function () { clearText(); });
      $('#reverseText').on('click', function () { reverseText(); });
      $('#copyText').on('click', function () { copyText(); });
      $('#encrypt').on('click', function () { encrypt(); });
      $('#decrypt').on('click', function () { decrypt(); });
      $('#encryptInputBox').on('input', function () { setKey(); });
    });
    init();
  </script>
</body>

</html>